<h1 class="text-center text-3xl font-sans">Create a new post</h1>

<%= simple_form_for @post, html: { data: { controller: "preview-image show-spinner", action: "submit->show-spinner#toggleSpinner" }, class: "flex flex-col h-screen overflow-y-scroll" } do |f| %>
  <div class="flex flex-wrap my-6 px-4">
    <%= f.input :photos, as: :file,
                required: false,
                wrapper_html: { class: 'w-full' },
                label_html: { class: 'italic cursor-pointer inline-block w-full bg-gray-300 hover:bg-gray-400 duration-300 p-4 rounded text-center' }, label: 'ðŸ“· Choose picture(s)!',
                input_html: { multiple: true, accept: "image/*,video/*", data: { action: "change->preview-image#preview" }, class: "hidden" } %>
  </div>

  <img src="" alt="preview-photo" data-target="preview-image.image" class="hidden mb-6 w-full" />

  <div class="px-4">
    <button type="submit" class="w-full bg-red-400 hover:bg-red-500 duration-300 text-white font-bold py-2 px-4 rounded">Upload post</button>
  </div>

  <%= inline_svg_tag "loader.svg", class: "h-screen fixed w-full overlay hidden", data: { target: "show-spinner.spinner" } %>
<% end %>
